import{I as e,M as t,N as n,T as r,c as i,f as a,g as o,h as s,k as c,l,m as u,n as d,r as f,s as p,t as m,u as h,v as g,w as _,x as v}from"./B_kjpjqf.js";var y={class:`container mx-auto px-4 py-8`},b={class:`text-3xl font-bold mb-6`},x={class:`mb-8`},S={key:0,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8`},C={key:1,class:`text-center text-gray-500 h-64 bg-gray-100 rounded-lg leading-64`},w={__name:`index`,setup(w){let T=l(),E=h(),D=i(),O=t([]),k=t([]),A=t(0),j=u(()=>Math.ceil(A.value/12)),M=t(parseInt(T.params.page||`1`));c(()=>O.value,()=>{document.title=`${D.site_metas.nv_site_name} - ${O.value[0]||`全部文章`}`});async function N(){let{data:e}=await p(`/base/post-list`,{post_type:`article`,current_page:D.current_page,taxonomy:D.taxonomy,term_slug:D.term_slug,current_page:D.current_page});k.value=e.articles,O.value=e.term_names;var{total:t,posts_per_page:n,current_page:r}=e.pagination;!t||!n||!r||Math.ceil(t/n)<r?E.replace({name:`nothing-is-here`}):A.value=t}function P(e){if(M.value=e,!D.term_slug){E.push(`/articles/${e}`);return}E.push(`/${D.taxonomy}/${D.term_slug}/${e}`)}return N(),(t,i)=>(_(),g(`div`,y,[s(`h1`,b,e(O.value[0]||`全部文章`),1),s(`nav`,x,[v(n(m),{navs:n(D).cateNav||[]},null,8,[`navs`])]),k.value.length?(_(),g(`section`,S,[(_(!0),g(a,null,r(k.value,e=>(_(),o(n(d),{key:e.id,item:e,class:`mb-6`},null,8,[`item`]))),128))])):(_(),g(`p`,C,`暂无数据`)),v(n(f),{"current-page":M.value,"total-pages":j.value,onPageChange:P},null,8,[`current-page`,`total-pages`])]))}};export{w as default};